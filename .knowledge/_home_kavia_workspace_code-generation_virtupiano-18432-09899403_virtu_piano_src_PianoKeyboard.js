{"is_source_file": true, "format": "JavaScript", "description": "This file defines a React component for a virtual piano keyboard, including utility functions for note frequency conversions, keyboard event handling, and synthesizer logic for sound generation. It exposes key mappings and the PianoKeyboard React component for use in a musical application.", "external_files": ["./PianoKeyboard.css"], "external_methods": [], "published": ["KEYBOARD_NOTE_MAP"], "classes": [], "methods": [{"name": "noteNameToMidi(note)", "description": "Converts a musical note name (e.g. 'C4') to its MIDI number.", "scope": "", "scopeKind": ""}, {"name": "noteToFrequency(note)", "description": "Calculates the frequency in Hz for a given note string.", "scope": "", "scopeKind": ""}, {"name": "codeToKeyChar", "description": "Converts a keyboard event code to a character for mapping notes."}, {"name": "getNoteIndexFromKey(key)", "description": "Returns the index of the note mapped to a keyboard key.", "scope": "", "scopeKind": ""}, {"name": "useSynth()", "description": "A React hook managing a polyphonic synthesizer for note playback.", "scope": "", "scopeKind": ""}, {"name": "getBlackKeyOffset(note)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "getCtx()", "scope": "useSynth", "scopeKind": "function", "description": "unavailable"}, {"name": "play(note)", "scope": "useSynth", "scopeKind": "function", "description": "unavailable"}, {"name": "stop(note)", "scope": "useSynth", "scopeKind": "function", "description": "unavailable"}], "calls": ["noteToFrequency(note)", "getNoteIndexFromKey(char)", "synth.play(KEYBOARD_NOTE_MAP[idx].note)", "synth.stop(KEYBOARD_NOTE_MAP[idx].note)"], "search-terms": ["PianoKeyboard", "noteNameToMidi", "useSynth", "Keyboard mapping", "React piano component", "audio synthesizer", "virtual keyboard"], "state": 2, "file_id": 18, "knowledge_revision": 44, "git_revision": "8cce65a0a301c5bd2b6040e24aa079fe310d0370", "revision_history": [{"37": "11a79c5aa2fb375184459e9397b4e9c1415df967"}, {"43": "3cd868fd1b553672e9d2f3621b6962095c7ec702"}, {"44": "8cce65a0a301c5bd2b6040e24aa079fe310d0370"}], "ctags": [{"_type": "tag", "name": "A#4", "path": "/home/kavia/workspace/code-generation/virtupiano-18432-09899403/virtu_piano/src/PianoKeyboard.js", "pattern": "/^    \"A#4\": 5, \\/\\/ between A (5) and B (6)$/", "language": "JavaScript", "kind": "property", "scope": "blackKeyToWhiteLeftIdx", "scopeKind": "class"}, {"_type": "tag", "name": "C#4", "path": "/home/kavia/workspace/code-generation/virtupiano-18432-09899403/virtu_piano/src/PianoKeyboard.js", "pattern": "/^    \"C#4\": 0, \\/\\/ between C (0) and D (1)$/", "language": "JavaScript", "kind": "property", "scope": "blackKeyToWhiteLeftIdx", "scopeKind": "class"}, {"_type": "tag", "name": "D#4", "path": "/home/kavia/workspace/code-generation/virtupiano-18432-09899403/virtu_piano/src/PianoKeyboard.js", "pattern": "/^    \"D#4\": 1, \\/\\/ between D (1) and E (2)$/", "language": "JavaScript", "kind": "property", "scope": "blackKeyToWhiteLeftIdx", "scopeKind": "class"}, {"_type": "tag", "name": "F#4", "path": "/home/kavia/workspace/code-generation/virtupiano-18432-09899403/virtu_piano/src/PianoKeyboard.js", "pattern": "/^    \"F#4\": 3, \\/\\/ between F (3) and G (4)$/", "language": "JavaScript", "kind": "property", "scope": "blackKeyToWhiteLeftIdx", "scopeKind": "class"}, {"_type": "tag", "name": "G#4", "path": "/home/kavia/workspace/code-generation/virtupiano-18432-09899403/virtu_piano/src/PianoKeyboard.js", "pattern": "/^    \"G#4\": 4, \\/\\/ between G (4) and A (5)$/", "language": "JavaScript", "kind": "property", "scope": "blackKeyToWhiteLeftIdx", "scopeKind": "class"}, {"_type": "tag", "name": "KEYBOARD_NOTE_MAP", "path": "/home/kavia/workspace/code-generation/virtupiano-18432-09899403/virtu_piano/src/PianoKeyboard.js", "pattern": "/^export const KEYBOARD_NOTE_MAP = [$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "PianoKeyboard", "path": "/home/kavia/workspace/code-generation/virtupiano-18432-09899403/virtu_piano/src/PianoKeyboard.js", "pattern": "/^const PianoKeyboard = ({$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "blackKeyToWhiteLeftIdx", "path": "/home/kavia/workspace/code-generation/virtupiano-18432-09899403/virtu_piano/src/PianoKeyboard.js", "pattern": "/^  const blackKeyToWhiteLeftIdx = {$/", "language": "JavaScript", "kind": "class"}, {"_type": "tag", "name": "codeToKeyChar", "path": "/home/kavia/workspace/code-generation/virtupiano-18432-09899403/virtu_piano/src/PianoKeyboard.js", "pattern": "/^const codeToKeyChar = (code) => {$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "getBlackKeyOffset", "path": "/home/kavia/workspace/code-generation/virtupiano-18432-09899403/virtu_piano/src/PianoKeyboard.js", "pattern": "/^  function getBlackKeyOffset(note) {$/", "language": "JavaScript", "kind": "function", "signature": "(note)"}, {"_type": "tag", "name": "getCtx", "path": "/home/kavia/workspace/code-generation/virtupiano-18432-09899403/virtu_piano/src/PianoKeyboard.js", "pattern": "/^  function getCtx() {$/", "language": "JavaScript", "kind": "function", "signature": "()", "scope": "useSynth", "scopeKind": "function"}, {"_type": "tag", "name": "getNoteIndexFromKey", "path": "/home/kavia/workspace/code-generation/virtupiano-18432-09899403/virtu_piano/src/PianoKeyboard.js", "pattern": "/^function getNoteIndexFromKey(key) {$/", "language": "JavaScript", "kind": "function", "signature": "(key)"}, {"_type": "tag", "name": "handleGlobalPointerUp", "path": "/home/kavia/workspace/code-generation/virtupiano-18432-09899403/virtu_piano/src/PianoKeyboard.js", "pattern": "/^  const handleGlobalPointerUp = () => {$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "handleKeyDown", "path": "/home/kavia/workspace/code-generation/virtupiano-18432-09899403/virtu_piano/src/PianoKeyboard.js", "pattern": "/^  const handleKeyDown = useCallback($/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "handleKeyUp", "path": "/home/kavia/workspace/code-generation/virtupiano-18432-09899403/virtu_piano/src/PianoKeyboard.js", "pattern": "/^  const handleKeyUp = useCallback($/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "handlePointerDown", "path": "/home/kavia/workspace/code-generation/virtupiano-18432-09899403/virtu_piano/src/PianoKeyboard.js", "pattern": "/^  const handlePointerDown = (idx) => {$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "handlePointerUp", "path": "/home/kavia/workspace/code-generation/virtupiano-18432-09899403/virtu_piano/src/PianoKeyboard.js", "pattern": "/^  const handlePointerUp = (idx) => {$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "noteNameToMidi", "path": "/home/kavia/workspace/code-generation/virtupiano-18432-09899403/virtu_piano/src/PianoKeyboard.js", "pattern": "/^function noteNameToMidi(note) {$/", "language": "JavaScript", "kind": "function", "signature": "(note)"}, {"_type": "tag", "name": "noteToFrequency", "path": "/home/kavia/workspace/code-generation/virtupiano-18432-09899403/virtu_piano/src/PianoKeyboard.js", "pattern": "/^function noteToFrequency(note) {$/", "language": "JavaScript", "kind": "function", "signature": "(note)"}, {"_type": "tag", "name": "onNoteDown", "path": "/home/kavia/workspace/code-generation/virtupiano-18432-09899403/virtu_piano/src/PianoKeyboard.js", "pattern": "/^  onNoteDown, \\/\\/ function(note, index)$/", "language": "JavaScript", "kind": "field", "scope": "PianoKeyboard", "scopeKind": "class"}, {"_type": "tag", "name": "play", "path": "/home/kavia/workspace/code-generation/virtupiano-18432-09899403/virtu_piano/src/PianoKeyboard.js", "pattern": "/^  function play(note) {$/", "language": "JavaScript", "kind": "function", "signature": "(note)", "scope": "useSynth", "scopeKind": "function"}, {"_type": "tag", "name": "setActiveKeys", "path": "/home/kavia/workspace/code-generation/virtupiano-18432-09899403/virtu_piano/src/PianoKeyboard.js", "pattern": "/^  const [activeKeys, setActiveKeys] = useState(new Set());$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "stop", "path": "/home/kavia/workspace/code-generation/virtupiano-18432-09899403/virtu_piano/src/PianoKeyboard.js", "pattern": "/^  function stop(note) {$/", "language": "JavaScript", "kind": "function", "signature": "(note)", "scope": "useSynth", "scopeKind": "function"}, {"_type": "tag", "name": "useSynth", "path": "/home/kavia/workspace/code-generation/virtupiano-18432-09899403/virtu_piano/src/PianoKeyboard.js", "pattern": "/^function useSynth() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "whiteKeys", "path": "/home/kavia/workspace/code-generation/virtupiano-18432-09899403/virtu_piano/src/PianoKeyboard.js", "pattern": "/^  const whiteKeys = KEYBOARD_NOTE_MAP$/", "language": "JavaScript", "kind": "constant"}], "filename": "/home/kavia/workspace/code-generation/virtupiano-18432-09899403/virtu_piano/src/PianoKeyboard.js", "hash": "65ac45a7410687a702517f821f33f082", "format-version": 4, "code-base-name": "default", "fields": [{"name": "\"A#4\": 5, \\/\\/ between A (5) and B (6)", "scope": "blackKeyToWhiteLeftIdx", "scopeKind": "class", "description": "unavailable"}, {"name": "\"C#4\": 0, \\/\\/ between C (0) and D (1)", "scope": "blackKeyToWhiteLeftIdx", "scopeKind": "class", "description": "unavailable"}, {"name": "\"D#4\": 1, \\/\\/ between D (1) and E (2)", "scope": "blackKeyToWhiteLeftIdx", "scopeKind": "class", "description": "unavailable"}, {"name": "\"F#4\": 3, \\/\\/ between F (3) and G (4)", "scope": "blackKeyToWhiteLeftIdx", "scopeKind": "class", "description": "unavailable"}, {"name": "\"G#4\": 4, \\/\\/ between G (4) and A (5)", "scope": "blackKeyToWhiteLeftIdx", "scopeKind": "class", "description": "unavailable"}, {"name": "onNoteDown, \\/\\/ function(note, index)", "scope": "PianoKeyboard", "scopeKind": "class", "description": "unavailable"}]}